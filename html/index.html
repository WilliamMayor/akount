<!DOCTYPE html>
<html>
<head>
    <title>akount</title>
    <link rel="stylesheet" href="../fonts/fa/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="../css/main.css" type="text/css" />
</head>
<body>
 	<header>
	 	<h1>akount</h1>
	 	<h2>William Mayor</h2>
	 	<ul class="main">
		 	<li><a href="summary">Summary</a></li>
		 	<li><a href="invoices">Invoices</a></li>
		 	<li><a href="expenditures">Expenditures</a></li>
	 	</ul>
	 	<ul class="admin">
	 		<li><a href="backup">Backup</a></li>
	 		<li><a href="settings">Settings</a></li>
	 	</ul>
	 	<ul class="global">
		 	<li><a href="globalsettings"><i class="fa fa-lg fa-cog"></i></a></li>
		 	<li><i class="fa fa-lg fa-question"></i></li>
		 	<li><a href="http://akount.williammayor.co.uk" target="_blank"><i class="fa fa-lg fa-external-link"></i></a></li>
	 	</ul>
 	</header>
 	<main>

 		<div class="summary" data-bind="visible: visible">
	 		<h2>Summary</h2>
 		</div>

 		<div class="invoices" data-bind="visible: visible">
	 		<h2>Invoices</h2>
 		</div>

 		<div class="expenditures" data-bind="visible: visible">
            <script type="text/html" id="expenditure_item">
                <div class="row" data-bind="attr: {id: 'e' + id">
                    <form data-bind="submit: save">
                    <div class="cell date">
                        <a data-bind="text: date,
                                      click: function() { $parent.filter('date', date()); },
                                      visible: editing() === false">
                        </a>
                        <input data-bind="value: date,
                                          visible: editing() === true"
                               placeholder="2014/01/01"
                               type="text">
                        </input>
                    </div>
                    <div class="cell description">
                        <span data-bind="text: description,
                                         visible: editing() === false,
                                         click: edit">
                        </span>
                        <input data-bind="value: description,
                                          visible: editing() === true"
                               placeholder="Taxi ride from hotel"
                               type="text">
                        </input>
                    </div>
                    <div class="cell amount">
                        <span data-bind="html: '&pound;' + amount(),
                                         visible: editing() === false">
                        </span>
                        <input data-bind="value: amount,
                                          visible: editing() === true"
                               placeholder="10.00"
                               type="number">
                        </input>
                    </div>
                    <div class="cell tags">
                        <!-- ko foreach: split_tags -->
                        <a data-bind="text: $data,
                                      click: function() { $root.filter('tags', $data); },
                                      visible: $parent.editing() === false">
                        </a>
                        <!-- /ko -->
                        <input data-bind="value: tags,
                                          visible: editing() === true"
                               placeholder="travel, taxi">
                        </input>
                    </div>
                    <input class="submit" type="submit" />
                    </form>
                </div>
            </script>
 			<h2>Expenditures</h2>
            <div class="row head">
                <div class="cell date">
                    <a data-bind="click: function() {sort('date'); }">Date</a>
                    <span data-bind="visible: sort.current() === 'date' && sort.reverse() === true">
                        <i class="fa fa-chevron-up"></i>
                    </span>
                    <span data-bind="visible: sort.current() === 'date' && sort.reverse() === false">
                        <i class="fa fa-chevron-down"></i>
                    </span>
                </div>
                <div class="cell description">
                    <a data-bind="click: function() {sort('description'); }">Description</a>
                    <span data-bind="visible: sort.current() === 'description' && sort.reverse() === true">
                        <i class="fa fa-chevron-up"></i>
                    </span>
                    <span data-bind="visible: sort.current() === 'description' && sort.reverse() === false">
                        <i class="fa fa-chevron-down"></i>
                    </span>
                </div>
                <div class="cell amount">
                    <a data-bind="click: function() {sort('amount'); }">Cost</a>
                    <span data-bind="visible: sort.current() === 'amount' && sort.reverse() === true">
                        <i class="fa fa-chevron-up"></i>
                    </span>
                    <span data-bind="visible: sort.current() === 'amount' && sort.reverse() === false">
                        <i class="fa fa-chevron-down"></i>
                    </span>
                </div>
                <div class="cell tags">Tags</div>
            </div>
            <div class="new" data-bind="template: { name: 'expenditure_item', data: _new }"></div>
            <div class="items" data-bind="template: { name: 'expenditure_item', foreach: items }"></div>
 			<div class="filters" data-bind="visible: filter.current().length > 0">
 				Filters:
 				<ul data-bind="foreach: filter.current">
	 				<li><a href="filter" data-bind="text: $data[0] + '=' + $data[1], click: function() { $parent.filter($data[0], $data[1]); }"></a></li>
 				</ul>
			</div>
 		</div>

 		<div class="backup" data-bind="visible: visible">
	 		<h2>Backup</h2>
 		</div>

 		<div class="settings" data-bind="visible: visible">
	 		<h2>Settings</h2>
 		</div>

 		<div class="globalsettings" data-bind="visible: visible">
	 		<h2>Global Settings</h2>
 		</div>

 	</main>
 	<script src="../js/jquery-2.1.0.min.js"></script>
 	<script src="../js/underscore-min.js"></script>
 	<script src="../js/underscore.db.min.js"></script>
 	<script src="../js/knockout-3.1.0.js"></script>
 	<script src="../js/later.min.js"></script>
 	<script src="../js/date.js"></script>
 	
 	<script src="../js/main.js"></script>
 	<script src="../js/summary.js"></script>
 	<script src="../js/invoices.js"></script>
 	<script src="../js/expenditures.js"></script>
 	<script src="../js/backup.js"></script>
 	<script src="../js/settings.js"></script>
 	<script src="../js/globalsettings.js"></script>

 	<script src="../js/develop.js"></script>
</body>
</html>